<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OpenClaw Toolbox</title>
  <meta name="description" content="A multi-function toolbox with gold price and tech news">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <h1>ğŸ§° OpenClaw Toolbox</h1>
      <p>å¯¦ç”¨å·¥å…·ç®± Â· æŒçºŒæ›´æ–°ä¸­</p>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Tool Grid -->
    <div class="tool-grid">
      
      <!-- Gold Price Card -->
      <div class="card gold">
        <div class="card-header gold">
          <div class="card-title">
            <span class="icon">ğŸ¥‡</span>
            <div>
              <div>é»ƒé‡‘åƒ¹æ ¼</div>
              <small>24K æ¯å…‹é»ƒé‡‘</small>
            </div>
          </div>
          <button class="btn btn-icon" onclick="fetchGoldPrice()" id="goldRefresh">
            ğŸ”„
          </button>
        </div>
        <div class="card-body">
          <div id="goldContent">
            <div class="spinner"></div>
          </div>
        </div>
        <div class="card-footer">
          <span>æ•¸æ“šä¾†æº: GoldAPI.io</span>
          <span class="badge badge-warning">å³æ™‚å ±åƒ¹</span>
        </div>
      </div>

      <!-- Tech News Card -->
      <div class="card tech">
        <div class="card-header tech">
          <div class="card-title">
            <span class="icon">ğŸ“°</span>
            <div>
              <div>ç§‘æŠ€æ–°è</div>
              <small>æœ€æ–°ç§‘æŠ€å‹•æ…‹</small>
            </div>
          </div>
          <button class="btn btn-icon" onclick="fetchTechNews()" id="newsRefresh">
            ğŸ”„
          </button>
        </div>
        <div class="card-body">
          <div id="newsContent">
            <div class="spinner secondary"></div>
          </div>
        </div>
        <div class="card-footer">
          <span id="newsUpdate">æ›´æ–°æ™‚é–“: --</span>
          <span class="badge badge-secondary" id="newsCount">0 æ¢æ–°è</span>
        </div>
      </div>
    </div>

    <!-- Quick Links -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">
          <span class="icon">âš¡</span>
          <div>
            <div>å¿«é€Ÿé€£çµ</div>
            <small>å¸¸ç”¨å·¥å…·</small>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div class="quick-links">
          <a href="#gold" class="quick-link">
            <span class="quick-icon" style="color: #fbbf24;">ğŸ¥‡</span>
            <span>é»ƒé‡‘åƒ¹æ ¼</span>
          </a>
          <a href="#news" class="quick-link">
            <span class="quick-icon" style="color: #a855f7;">ğŸ“°</span>
            <span>ç§‘æŠ€æ–°è</span>
          </a>
          <a href="#" class="quick-link">
            <span class="quick-icon" style="color: #22c55e;">ğŸŒ¤ï¸</span>
            <span>å¤©æ°£é å ±</span>
          </a>
          <a href="#" class="quick-link">
            <span class="quick-icon" style="color: #22c55e;">ğŸ“ˆ</span>
            <span>è‚¡ç¥¨è¡Œæƒ…</span>
          </a>
          <a href="#" class="quick-link">
            <span class="quick-icon" style="color: #3b82f6;">ğŸ¤–</span>
            <span>AI å·¥å…·</span>
          </a>
          <a href="#" class="quick-link">
            <span class="quick-icon" style="color: #9ca3af;">ğŸ’»</span>
            <span>é–‹ç™¼å·¥å…·</span>
          </a>
        </div>
      </div>
    </div>

    <!-- System Status -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">
          <span class="icon">ğŸ¤–</span>
          <div>
            <div>OpenClaw ç‹€æ…‹</div>
            <small>ç³»çµ±ç›£æ§</small>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div class="status-grid">
          <div class="status-item">
            <div class="status-label">CPU ä½¿ç”¨ç‡</div>
            <div class="status-value success">23%</div>
          </div>
          <div class="status-item">
            <div class="status-label">è¨˜æ†¶é«”</div>
            <div class="status-value primary">4.2 GB</div>
          </div>
          <div class="status-item">
            <div class="status-label">é‹è¡Œæ™‚é–“</div>
            <div class="status-value secondary">5 å¤©</div>
          </div>
        </div>
      </div>
      <div class="card-footer simple">
        <p>Powered by OpenClaw AI Assistant</p>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>Powered by OpenClaw Â· Built with â¤ï¸</p>
    <a href="https://github.com/WaiTengChong/toolbox" target="_blank">GitHub Repository</a>
  </footer>

  <script>
    const GRAMS_PER_OUNCE = 31.1035;
    const USD_TO_CNY = 7.25;
    const API_KEY = 'goldapi-jp0nsmld26yav-io';

    // Gold Price Functions
    async function fetchGoldPrice() {
      const btn = document.getElementById('goldRefresh');
      const content = document.getElementById('goldContent');
      btn.disabled = true;
      btn.textContent = 'â³';
      
      try {
        const response = await fetch('https://www.goldapi.io/api/XAU/USD', {
          headers: { 'x-access-token': API_KEY }
        });
        
        if (!response.ok) throw new Error('API è«‹æ±‚å¤±æ•—');
        
        const data = await response.json();
        const pricePerOunceUSD = data.price;
        const pricePerOunceCNY = pricePerOunceUSD * USD_TO_CNY;
        const pricePerGram = pricePerOunceCNY / GRAMS_PER_OUNCE;
        
        const now = new Date();
        const timeStr = now.toLocaleString('zh-TW', {
          hour: '2-digit',
          minute: '2-digit',
          hour12: false
        });
        
        content.innerHTML = `
          <div class="gold-price">Â¥${pricePerGram.toFixed(2)}</div>
          <div class="gold-label">æ›´æ–°æ™‚é–“: ${timeStr}</div>
        `;
      } catch (error) {
        console.error('Gold error:', error);
        const now = new Date();
        const timeStr = now.toLocaleString('zh-TW', {
          hour: '2-digit',
          minute: '2-digit',
          hour12: false
        });
        content.innerHTML = `
          <div class="gold-price" style="font-size: 2rem;">è¼‰å…¥å¤±æ•—</div>
          <div class="gold-label">è«‹é»æ“Šåˆ·æ–°æŒ‰éˆ•é‡è©¦</div>
          <div class="gold-label">${timeStr}</div>
        `;
      } finally {
        btn.disabled = false;
        btn.textContent = 'ğŸ”„';
      }
    }

    // Tech News Functions
    async function fetchTechNews() {
      const btn = document.getElementById('newsRefresh');
      const content = document.getElementById('newsContent');
      const countEl = document.getElementById('newsCount');
      const updateEl = document.getElementById('newsUpdate');
      btn.disabled = true;
      btn.textContent = 'â³';
      
      try {
        const response = await fetch(
          'https://api.brave.com/v1/news?category=technology&count=10',
          { headers: { 'Accept': 'application/json' }        );
        
        if (!response.ok) throw new Error('News API failed');
        
        const data = await response.json();
        const articles = data.articles || [];
        
        const now = new Date();
        const timeStr = now.toLocaleString('zh-TW', {
          hour: '2-digit',
          minute: '2-digit',
          hour12: false
        });
        
        countEl.textContent = `${articles.length} æ¢æ–°è`;
        updateEl.textContent = `æ›´æ–°æ™‚é–“: ${timeStr}`;
        
        if (articles.length === 0) throw new Error('No articles');
        
        content.innerHTML = articles.slice(0, 6).map(item => `
          <a href="${item.url || '#'}" target="_blank" class="news-item">
            <div class="news-title">${item.title || 'ç„¡æ¨™é¡Œ'}</div>
            <div class="news-meta">
              <span class="news-source">${item.source || 'æœªçŸ¥ä¾†æº'}</span>
            </div>
          </a>
        `).join('');
      } catch (error) {
        console.error('News error:', error);
        
        // Demo news
        const demoNews = [
          { title: 'OpenAI ç™¼å¸ƒ GPT-5 é è¦½ç‰ˆ', source: 'TechCrunch' },
          { title: 'Apple å°‡æ¨æ‘ºç–Š iPhone', source: 'The Verge' },
          { title: 'NVIDIA RTX 50 ç³»åˆ—é¡¯å¡ç™»å ´', source: "Tom's Hardware" },
          { title: 'SpaceX Starship æˆåŠŸç™¼å°„', source: 'Space.com' },
          { title: 'Google Gemini 2.0 æ­£å¼æ¨å‡º', source: '9to5Google' },
          { title: 'ç‰¹æ–¯æ‹‰ FSD V13 æ›´æ–°', source: 'Electrek' }
        ];
        
        const now = new Date();
        const timeStr = now.toLocaleString('zh-TW', {
          hour: '2-digit',
          minute: '2-digit',
          hour12: false
        });
        
        countEl.textContent = `${demoNews.length} æ¢æ–°è`;
        updateEl.textContent = `æ›´æ–°æ™‚é–“: ${timeStr} (ç¤ºä¾‹)`;
        
        content.innerHTML = demoNews.map(item => `
          <a href="#" target="_blank" class="news-item">
            <div class="news-title">${item.title}</div>
            <div class="news-meta">
              <span class="news-source">${item.source}</span>
            </div>
          </a>
        `).join('') + `
          <div style="text-align: center; padding: 0.5rem; color: #9ca3af; font-size: 0.8rem;">
            âš ï¸ ä½¿ç”¨ç¤ºä¾‹æ•¸æ“š
          </div>
        `;
      } finally {
        btn.disabled = false;
        btn.textContent = 'ğŸ”„';
      }
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      fetchGoldPrice();
      fetchTechNews();
    });
  </script>
</body>
</html>
